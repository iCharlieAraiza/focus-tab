<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Your task</title>
</head>
<body>
    <div class="background-img">
        <img src="./assets/img/background/leaves.jpg" />
    </div>
    <main>
        <section class="card-wrapper">
            <div class="container">
                <div class="card">
                    <h3 class="figure">
                        19
                    </h3>
                    <h3 class="name">
                        today
                    </h3>
                </div>
                <div class="card">
                    <h3 class="figure">
                        9
                    </h3>
                    <h3 class="name">
                        Pending
                    </h3>
                </div>
                <div class="card">
                    <h3 class="figure">
                        9:10
                    </h3>
                    <h3 class="name">
                        Time
                    </h3>
                </div>
                <div class="card">
                    <h3 class="figure">
                        9
                    </h3>
                    <h3 class="name">
                        Pending
                    </h3>
                </div>
                <div class="card">
                    <h3 class="figure">
                        <span class="icon">
                            <img src="/assets/img/weather/rainy.png" alt="">
                        </span>
                        10&deg;c
                    </h3>
                    <h3 class="name">
                        Pending
                    </h3>
                </div>
            </div>
        </section>
        <section class="main-section">
            <div class="clock-container">
                <div class="button-container col-5">
                    <ul>
                        <li>Timer</li>
                    </ul>
                </div>
                <div class="clock">
                    <div class="time">10:20 AM</div>
                </div>
                <div class="timer">
                    <div class="time">10:20 AM</div>
                    <div class="button" id="play">
                        <img src="/assets/img/icons/play-button.png" alt="" srcset="">
                    </div>
                </div>
            </div>
            <div class="task-container col-5">
                <div class="tab-section">
                    <div class="tab active">
                        <div class="title">
                            Today
                        </div>
                        <div class="todo-container">
                            <ul id="listContainer">
                                <li>
                                    <span class="select-circle"></span>
                                    <div class="title-task">New Task</div>
                                </li>
                                <li>
                                    <span class="select-circle"></span>
                                    <div class="title-task">New Task</div>
                                </li>
                            </ul>
                        </div>
                        <div class="todo-form">
                            <div class="action-title">
                                <span>Create a new task</span>
                            </div>

                            <div class="add-form"> 
                                <input type="text" placeholder="+  New task" id="taskform">
                            </div> 
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
<script>
    let time = 1500,
        breakTime = 20,
        active = false

    const timer = document.querySelector('.timer .time')
    const play = document.querySelector('#play')

    play.onclick = ()=>{
        active = !active
        const interval = setInterval(()=>{
            if(!active){
                clearInterval(interval)
            } 
            if(seconds <= 0){
                if(breakTime <= 0){
                    clearInterval(interval)
                }   
                timer.innerHTML = timeFormat(breakTime--)
            }else{
                timer.innerHTML = timeFormat(seconds--)
            }
        },1000)        
    }



    let seconds = time;
    


    const timeFormat = (seconds)=>{
        if(seconds >=3600){
            return Math.floor(seconds/360)
        }else{
            const def = (seconds%60 <10 ? '0' + seconds%60 :  seconds%60)
            const minutes = Math.floor(seconds/60) < 10 ? '0' + Math.floor(seconds/60) : Math.floor(seconds/60);

            if(seconds>=360 && seconds < 3600){
                return minutes + ':' + def
            }
            if(seconds>=60 && seconds<360){
                console.log(seconds%60)
                //return minutes + ':'+ (seconds%60 == 0 ? '00' : seconds%60)
                return minutes + ':' + def
            }
            if(seconds>=10 && seconds<60){
                return '00:'+seconds
            }else if(seconds<10){
                return '00:'+def
            }

        }
    }

    /*
        To-do App
    */

    const taskList = [{}];

    const taskform = document.querySelector('#taskform'),
    listContainer = document.querySelector('#listContainer')

    taskform.addEventListener('change', (event)=>{
        taskList.push({status:active, value:taskform.value})

        let newList = '';

        taskList.fo

        listContainer.innerHTML =  '';

    })


    


</script>
</body>
</html>